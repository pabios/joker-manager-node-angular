<div  class="containerForme__preview">
  <div class="form-card">
    <mat-card style="margin: 20px;text-align: center">
      <mat-card-title class="mat-headline">Ajout d'un logement</mat-card-title>
    </mat-card>
    <form [formGroup]="elementForm" enctype="multipart/form-data">
      <p>
        <mat-form-field style="width: 100%" appearance="fill">
          <mat-label>choisir le type du logement</mat-label>
          <mat-select #name formControlName="name">
            <mat-option   *ngFor="let elementType of elementType$|async" value="{{elementType.name}}">{{elementType.name}}</mat-option>
          </mat-select>
          <mat-hint>Type du logement</mat-hint>
        </mat-form-field>
      </p>

<!--      <p>-->
<!--        <mat-form-field style="width: 100%" appearance="fill">-->
<!--          <mat-label>Titre a ton logement</mat-label>-->
<!--          <input formControlName="name"   #name  matInput placeholder="mettre liste deroulant">-->
<!--          <mat-icon matSuffix>title</mat-icon>-->
<!--          <mat-hint>Titre</mat-hint>-->
<!--        </mat-form-field>-->
<!--      </p>-->
      <p>
        <mat-form-field style="width: 100%" appearance="fill">
          <mat-label>Description  du logement</mat-label>
          <input formControlName="description"   #description  matInput placeholder="Description du logement">
          <mat-icon matSuffix>description</mat-icon>
          <mat-hint>Description</mat-hint>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field style="width: 100%" appearance="fill">
          <mat-label>Dites nous en plus sur le logement</mat-label>
          <input formControlName="content"   #content  matInput placeholder="exemple: parking, piscine ...">
          <mat-icon matSuffix>description</mat-icon>
          <mat-hint>Plus de Details</mat-hint>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field style="width: 100%" appearance="fill">
          <mat-label>Choisir une région administrative</mat-label>
          <mat-select formControlName="category">
            <mat-option   *ngFor="let category of category$|async" value="{{category.id}}">{{category.name}}</mat-option>
          </mat-select>
          <mat-hint>Région administrative</mat-hint>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field style="width: 100%" appearance="fill">
          <mat-label>Localisation du logement </mat-label>
          <input formControlName="location" #location matInput placeholder="exemple (ville,commune)">
          <mat-icon matSuffix>category</mat-icon>
          <mat-hint>Localisation</mat-hint>
        </mat-form-field>
      </p>

<!--      nouveau champs-->

      <p>
        <mat-form-field style="width: 100%" appearance="fill">
          <mat-label>Quartier </mat-label>
          <input formControlName="exactLocate" #exactLocate matInput placeholder="Quartier/District">
          <mat-icon matSuffix>location_on</mat-icon>
          <mat-hint>Quartier ou District</mat-hint>
        </mat-form-field>
      </p>
<!--      //-->
      <p>
        <mat-form-field style="width: 100%" appearance="fill">
          <mat-label>Surface </mat-label>
          <input formControlName="sizee" #sizee matInput placeholder="Surface">
          <mat-icon matSuffix>crop</mat-icon>
          <mat-hint>Surface du logement</mat-hint>
        </mat-form-field>
      </p>

      <p>
        <mat-form-field style="width: 100%" appearance="fill">
          <mat-label>Prix par jour  </mat-label>
          <input formControlName="price"  #price matInput placeholder="Prix par jour ">
          <mat-icon matSuffix>Prix</mat-icon>
          <mat-hint>Prix par jour</mat-hint>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field style="width: 100%" appearance="fill">
          <mat-label>choisir le type de lit</mat-label>
          <mat-select formControlName="item">
            <mat-option  *ngFor="let item of items$|async" value="{{item.id}}">{{item.type}}</mat-option>
          </mat-select>
        </mat-form-field>
      </p>



      <div class="upload-wrapper">
        <label for="file-input" class="file-label">
          <mat-icon class="upload-icon">cloud_upload</mat-icon>
          <span class="upload-text">Choisir les images pour le logement</span>
        </label>
        <input id="file-input" type="file" class="file-input" multiple accept="image/*" #fichier (change)="onFileChangeImage($event)">

<!--        <span class="file-name" *ngIf="fichier.files?.length">{{ fichier.name }}</span>-->
        <span class="file-name" *ngIf="imagesSrc.length > 0">
            <nz-progress [nzPercent]="imagesSrc.length" nzType="circle" [nzFormat]="formatPhotos"></nz-progress>
          </span>

      </div>


      <!--      <ng-template #noToDisplay>-->
<!--         oups affichage-->
<!--      </ng-template>-->
      <button mat-raised-button color="primary"
              (click)="onSend(content.value,description.value,location.value,exactLocate.value,price.value,sizee.value)"
      >
        Publier
      </button>

<!--      //-->
<!--      <nz-upload nzAction="https://www.mocky.io/v2/5cc8019d300000980a055e76" [nzTransformFile]="transformFile">-->
<!--          <span nz-icon nzType="upload"></span>-->
<!--          <input nz-button id="file-input_" type="file" class="file-input" multiple accept="image/*" #fichier (change)="onFileChangeImage($event)">-->
<!--      </nz-upload>-->

    </form>
  </div>
<!--  <div *ngFor="let img of imagesSrc ">-->
<!--      {{img[0].name}}-->
<!--  </div>-->




<!--  <h3 *ngIf="elementType$  | async as et">Titre:{{et[0].name}}</h3>-->

<!--  <div *ngIf="elementProview$ | async as state-list">-->
  <div class="face-snap-cardnap-card" *ngIf="elementProview$ | async as element">
    <mat-card style="margin: 20px;text-align: center">
      <mat-card-title class="mat-headline">Visualisation sans images</mat-card-title>
    </mat-card>
    <h3>Titre:{{ element.name | uppercase }}</h3>
    <p>Mis en ligne {{ element.createdDate | date: 'à HH:mm, le d MMMM yyyy' }}</p>

    <img src="https://placehold.co/600x400" [alt]="element.name">
    <p>Description: {{ element.description }}</p>
<!--    <p>Localisation: {{ element.locate }}</p>-->
    <p>Details: {{ element.content }}</p>
    <p>Prix: {{ element.price }}</p>
  </div>
</div>


